# Multi-Viewer (ChatBrawl)

## 项目简介

Multi-Viewer 是一个强大的Chrome浏览器扩展，允许用户在单一界面中同时查看和使用多个AI聊天服务。该扩展支持众多主流AI聊天平台，包括ChatGPT、Claude、Gemini、Grok、DeepSeek等，让用户能够方便地比较不同AI模型的回答，提高使用效率。

## 主要功能

### 1. 多平台集成
- 同时展示多个AI聊天平台在同一界面中
- 支持多达18个主流AI聊天服务，包括：
  - ChatGPT (OpenAI)
  - Claude (Anthropic)
  - Gemini (Google)
  - Grok (X)
  - DeepSeek
  - Qwen (阿里巴巴)
  - Kimi (月之暗面)
  - Doubao (字节跳动)
  - Copilot (微软)
  - Mistral
  - 元宝 (腾讯)
  - 百小应 (百川)
  - 智谱AI
  - 文心一言 (百度)
  - 知乎直达 (知乎)
  - 讯飞星火
  - 秘塔AI
  - Perplexity

### 2. 统一消息管理
- 支持向所有开启的AI平台同时发送相同的提问
- 支持引用特定平台的回答到提问框
- 支持@特定平台进行单独对话

### 3. 高级工具支持
- 支持网络搜索功能（WebSearch）：适用于ChatGPT、Grok、DeepSeek、Qwen、Kimi、Doubao、Copilot、Gemini、元宝、百小应、智谱、文心一言和知乎直达等平台
- 支持思考过程显示（Thinking）：适用于ChatGPT、Grok、Claude、DeepSeek、Qwen、Kimi、Doubao、Gemini、元宝、百小应、智谱、文心一言和知乎直达等平台
- 部分平台（如Mistral、讯飞星火、秘塔AI和Perplexity）暂不支持特殊工具

### 4. 界面与主题
- 支持明亮主题和深色主题
- 可自定义UI布局和显示方式
- 响应式设计，自动适应不同窗口大小

### 5. 历史记录与会话管理
- 保存对话历史记录
- 支持一键创建新对话
- 支持恢复历史对话

## 技术架构

### 核心组件
1. **Background Service Worker** (`background.js`)
   - 管理网络请求和头部修改
   - 处理扩展安装和更新
   - 监听页面导航事件
   - 注入脚本到目标网站

2. **主界面** (`chatbrawl.html` 和 `chatbrawl.js`)
   - 提供多平台集成视图
   - 处理用户输入和命令
   - 管理iframe通信

3. **配置系统** (`config.js` 和 `settings.js`)
   - 管理支持的网站配置
   - 处理用户偏好设置
   - 保存和恢复用户配置

4. **注入脚本** (`injection/`)
   - 针对不同平台的专用脚本
   - 适配不同UI和交互模式
   - 执行跨域通信

### 数据流
- 用户输入 → 主界面处理 → 分发到各iframe → 各平台执行操作
- 各平台响应 → iframe接收 → 通过postMessage传递给主界面 → 更新UI和历史记录

## 使用方法

### 安装
1. 从Chrome网上应用店安装扩展
2. 点击浏览器工具栏中的扩展图标

### 配置
1. 点击设置按钮，选择要显示的AI平台
2. 通过拖拽调整AI平台的显示顺序
3. 调整主题（明亮/深色）和页面优化选项
4. 保存设置后，所选平台将自动加载并按照设定的顺序排列

### 日常使用
1. 在底部输入框中输入提问，点击发送按钮或按Enter键发送给所有平台
2. 使用@平台名称可以单独与特定平台对话（例如：@文心一言 请介绍一下你自己）
3. 可以选择平台返回的文本并点击"引用"按钮引用到输入框
4. 使用"新对话"按钮可以在所有平台同时开始新的对话
5. 点击"历史"按钮查看和恢复历史对话
6. 可以开启网络搜索和思考过程显示等高级功能（仅适用于支持这些功能的平台）

## 隐私与安全
- 扩展使用iframe嵌入各平台，不会拦截或修改您的账户凭证
- 所有通信仅在本地浏览器内进行，不经过任何第三方服务器
- 历史记录保存在本地浏览器存储中，不会上传到云端

## 技术限制
- 由于浏览器的安全策略限制，部分网站可能需要特定权限才能正常工作
- 各平台界面更新可能会影响扩展功能，需要定期更新适配
- 部分平台如Meta AI目前存在兼容性问题，暂不支持 